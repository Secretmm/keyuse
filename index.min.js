(function(e){"use strict";var r;var n={ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey",meta:"metaKey",backspace:8,tab:9,enter:13,return:13,pause:19,caps:20,capslock:20,escape:27,esc:27,space:32,pgup:33,pageup:33,pgdown:34,pagedown:34,end:35,home:36,ins:45,insert:45,del:46,delete:46,left:37,up:38,right:39,down:40,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var t=65;t<91;t++){n[String.fromCharCode(t).toLowerCase()]=t}for(var t=0;t<10;t++){n[""+t]=48+t}for(var t=1;t<13;t++){n["f"+t]=111+t}var o=[];var i=function(e,r,n){if(a(e)){throw new Error(e+" is repeat, please use the [keyuse.modify()]")}o.push({code:u(e),keyname:e,des:r,fn:n});return o};i.remove=function(e){var r=u(e);var n=null;o.some(function(e,t){if(s(r,e.code)){n=t;return true}});if(n!==null){o.splice(n,1)}return o};i.modify=function(e,r,n){if(!a(e)){throw new Error(e+" does not exist, please use the [keyuse()]")}i.remove(e);i(e,r,n);return o};i.addList=function(e){if(!(e instanceof Array)){throw new Error("The input is not an array")}e.forEach(function(e){if(a(e.keyname)){throw new Error(e.keyname+" is repeat, please use the [keyuse.modify()]")}o.push({code:u(e.keyname),keyname:e.keyname,des:e.des,fn:e.fn});return o})};i.removeList=function(e){if(!(e instanceof Array)){throw new Error("The input is not an array")}var r=[];e.forEach(function(e){o.some(function(n,t){if(s(u(e),n.code)){r.push(t);return true}})});o=o.filter(function(e,n){return r.indexOf(n)===-1});return o};i.modifyList=function(e){if(!(e instanceof Array)){throw new Error("The input is not an array")}e.forEach(function(e){if(!a(e.keyname)){throw new Error(e.keyname+" does not exist, please use the [keyuse()]")}o.some(function(r,n){if(s(u(e.keyname),r.code)){i.modify(e.keyname,e.des,e.fn);return true}})});return o};i.show=function(){return o};var f=["altKey","ctrlKey","shiftKey","metaKey"];document.onkeydown=function(e){var r=document.all?e.keyCode:e.which;o.forEach(function(n){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey){if(c(n.code)){var t=d(n.code);var o=false;var i=0;t.strArr.forEach(function(r){if(!e[r]){o=true}});f.forEach(function(r){if(e[r]){i++}});if(!o&&i===t.strArr.length&&t.numberArr[0]===r){n.fn()}}}else{if(!c(n.code)&&r===n.code[0]){n.fn()}}})};function u(e){if(!e){throw new Error("The keyname is invalid")}var r=e.split("+");var t=r.map(function(e){if(!n.hasOwnProperty(e.trim())){throw new Error(e+" is invalid")}else{return n[e.trim()]}});if(t.length>1&&y(t)>1){throw new Error(e+" is invalid")}return t}function a(e){var r=false;o.some(function(n){if(s(u(e),n.code)){r=true;return true}});return r}function s(e,r){return e.sort().toString()===r.sort().toString()}function c(e){var r=false;e.forEach(function(e){if(typeof e==="string"){r=true}});return r}function y(e){var r=0;e.forEach(function(e){if(typeof e==="number"){r++}});return r}function d(e){var r={};r.strArr=e.filter(function(e){return typeof e==="string"});r.numberArr=e.filter(function(e){return typeof e==="number"});return r}r=function(){return this||(0,eval)("this")}();if(typeof module!=="undefined"&&module.exports){module.exports=i}else if(typeof define==="function"&&define.amd){define(function(){return i})}else{!("keyuse"in r)&&(r.keyuse=i)}})();